\documentclass[a4paper, 12pt]{report}

% ====================== PACKAGES ======================
\usepackage[english]{babel} % English and French language support
\usepackage[utf8]{inputenc} % UTF-8 encoding
\usepackage[T1]{fontenc} % Character encoding
\usepackage{amsmath, amssymb, amsfonts} % Math packages
\usepackage{amsthm} % Theorem package
\newtheorem{remark}{Remark}
\newtheorem{Proposition}{Proposition}
\newtheorem{theorem}{Theorem}
\newtheorem{definition}{Definition}
\newtheorem{assumption}{Assumption}
\newtheorem{example}{Example}
\newtheorem{lemma}{Lemma}
\usepackage{graphicx} % Required for inserting images
\usepackage{float} % Improved handling of floating elements
\usepackage{hyperref} % For hyperlinks
\usepackage{array, tabularx, multirow, multicol} % Table packages
\usepackage{caption, subcaption} % Caption and subcaption for figures and tables
\usepackage{setspace} % Set line spacing
\usepackage{abstract} % Abstract layout
\usepackage{color, xcolor} % Color handling
\usepackage{tcolorbox} % Colored boxes
\usepackage{lipsum} % For generating filler text
\usepackage{fancyhdr} % Fancy headers and footers
\usepackage{titlesec} % Section formatting
\usepackage{enumerate} % Enumerate with custom labels
\usepackage{booktabs, colortbl} % Improved table formatting
\usepackage{geometry} % To define page margins
\usepackage{longtable} % For tables spanning multiple pages
\usepackage{listings}
\usepackage{bm}

% ====================== COMMANDS ======================
\providecommand{\abs}[1]{\lvert#1\rvert} % Absolute value command
\DeclareMathOperator{\sign}{sign} % Sign function

% ====================== PAGE GEOMETRY ======================
\geometry{top=2cm, bottom=3cm, left=2cm, right=2cm} % Adjust top margin to provide space for header
\setlength{\headheight}{45pt} % Increase headheight to fit header content
\setlength{\headsep}{20pt} % Add space between header and text

% ====================== PDF METADATA ======================
\hypersetup{ % Information about the PDF document
    pdfauthor = {Premier Auteur}, % Authors
    pdftitle = {Nom du Projet - Sujet du Projet}, % Title
    pdfsubject = {Mémoire de Projet}, % Subject
    pdfkeywords = {Tag1, Tag2, Tag3}, % Keywords
    pdfstartview={FitH}, % Adjust page width to screen width
    colorlinks=true, % Colored links
    citecolor=black, % Citation links color
    filecolor=black, % File links color
    linkcolor=black, % Internal links color
    urlcolor=black % URL links color
}

\lstset{
    language=Python,
    basicstyle=\ttfamily\footnotesize,
    keywordstyle=\color{blue},
    commentstyle=\color{orange},
    stringstyle=\color{red},
    showstringspaces=false,
    numberstyle=\tiny\color{gray},
    numbers=left,
    stepnumber=1,
    numbersep=5pt,
    frame=single,
    breaklines=true,
    backgroundcolor=\color{lightgray},
    captionpos=b,
    tabsize=4,
    morekeywords={Material, self},
}

% Définir les couleurs pour le code MATLAB
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

% Définir le style pour MATLAB
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

% Définir l'environnement MATLAB
\lstnewenvironment{MATLAB}[1][]
{
    \lstset{
        style=mystyle,
        language=Matlab,
        #1
    }
}{} % End of MATLAB environment

% ====================== HEADER AND FOOTER ======================
\pagestyle{fancy} % Enable fancy headers and footers
\fancyhf{} % Clear all header and footer fields

\fancyhead[L]{ % Left header
    \begin{minipage}{1.5cm}
        \centering
        \includegraphics[width=0.80\textwidth]{imgs/LogoCN_Q.pdf}
    \end{minipage}
    \begin{minipage}{12cm}
        \small \textsc{École}\\
        \small \textsc{Centrale}\\
        \small \textsc{de Nantes}\\
    \end{minipage}
}
\fancyhead[R]{ % Right header
    \begin{minipage}{4.8cm}
        \raggedleft
    \end{minipage}
    \begin{minipage}{1.5cm}
        \centering
        \includegraphics[width=2\textwidth]{imgs/TU_Ilmenau_Logo_black_green.svg.png}
    \end{minipage}
}
\fancyfoot[R]{\large \textbf{\thepage}} % Right footer with page number

\renewcommand{\headrulewidth}{0.2pt} % Header rule width
\renewcommand{\footrulewidth}{0.2pt} % Footer rule width

% ====================== SECTION FORMATTING ======================
\titleformat{\chapter}[display]
    {\normalfont\bfseries}{}{0pt}{\Large}
\titlespacing*{\chapter}{0pt}{-20pt}{20pt}

% ====================== BEGIN DOCUMENT ======================
\begin{document}
\pagenumbering{arabic} % Start page numbering in arabic numerals
\renewcommand{\labelenumii}{\arabic{enumi}.\arabic{enumii}}

% Title page
\begin{titlepage}
    \centering
    \vspace*{0cm}
    \includegraphics[width=0.3\textwidth]{imgs/LogoCN_Q.pdf}\hfill
    \includegraphics[width=0.3\textwidth]{imgs/TU_Ilmenau_Logo_black_green.svg.png}
    
    \vspace{3cm}
    
    \Huge\textbf{Engineering Internship Report}\\
    \vspace{1cm}
    \LARGE\textbf{Breaking Algebraic Loops}\\
    \LARGE\textbf{in Sliding Mode Control}
    
    \vfill
    
    \Large\textbf{Author:} Matis Viozelange\\[0.3cm]
    \Large\textbf{Supervisor:} Niclas Tietze\\
    
    \vfill
    
    \Large\textbf{Technische Universität Ilmenau}\\
    \vspace{0.5cm}
    \Large\textbf{École Centrale Nantes}
    
    \vspace{1.5cm}
    
    \Large\textbf{Internship Period:}\\
    \Large 31/03/2024 -- 21/09/2024

    \vspace*{1cm}
\end{titlepage}

% Blank page
\newpage
\thispagestyle{empty}
~

% Abstract section
\begin{abstract}
    The project aimed to address the challenges posed by algebraic 
    loops in sliding mode control algorithms. These loops occur when 
    state-dependent perturbations interact with the control signal, 
    creating circular dependencies that complicate system stability 
    and performance. The research explored dynamic methods and international 
    collaborations to simplify convergence proofs without redesigning the 
    entire controller. This work is crucial for enhancing the robustness 
    and efficiency of control systems in various industrial applications.
    The other topic of the report is the peaking phenomenon in Model Following
    Control (MFC) and its implementation on a Matlab simulation and a real
    system.
\end{abstract}




% Table of contents
\tableofcontents
\thispagestyle{empty}
% \setcounter{page}{0}

\listoffigures

% Espacement entre les lignes d'un tableau
\renewcommand{\arraystretch}{1.5}

%====================== INCLUSION DES PARTIES ======================

~
\thispagestyle{empty}
%recommencer la numérotation des pages à "1"
%\setcounter{page}{0}
\newpage

\input{Sections/présentation_team_et_cadre-scientifique}
\input{Sections/presentation}

\input{Sections/section1}
\input{Sections/section2}
%\input{Sections/section3}

\input{Sections/conclusion}

\newpage

%récupérer les citation avec "/footnotemark"
\nocite{*}

%choix du style de la biblio
\bibliographystyle{plain}
%inclusion de la biblio
\bibliography{bibliographie.bib}
%voir wiki pour plus d'information sur la syntaxe des entrées d'une bibliographie

\input{annexes/annexes}
\end{document}